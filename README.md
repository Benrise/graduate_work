# Проектная работа: диплом

Команда: [Артём](https://github.com/Benrise)

Тема: Ассистент

Задача: Сделайте интеграцию между вашим сервисом поиска фильмов и голосовым помощником. Сценарий следующий: вы говорите помощнику, что найти, он делает запрос в ваш сервис для ES, получает ответ и зачитывает его. Если вариантов несколько, то зачитывается первый вариант. 

### Поток данных

Пользовательский запрос (голосовой ввод) → Speech Service (получение транскрипции) → Intent Classifier Service (классификация намерения) → Translate Transcript (перевод транскрипции) -> Extract Entity (извлечение сущностей) -> Search Service (обращение к сервису контента).

### Роли моделей

1. Intent Classifier - классифицирует намерения пользователя по заранее заданным меткам. Далее эти метки определяют тип запроса к сервису поиска.
2. Translate Transcript - перевод транскрипции. Необходим для поиска фильмов и жанров, т.к. в базе данных они записаны на английском языке.
3. Extract Entity - извлекает сущности, если такие имеются (персоны, фильм, жанр).

**Таким образом:**
Система способна реагировать согласно тем данным, которые есть в Elasticsearch.

### Примеры

**Намерение:** пользователь хочет получить авторов фильма
![image](https://github.com/user-attachments/assets/47ec820e-e38d-498a-905d-fa34d91c23a3)

**Намерение:** пользователь хочет узнать продолжительность фильма
![image](https://github.com/user-attachments/assets/78504771-07f5-4bcd-b904-5335892c191c)

### Формирование датасета

Для обучения модели Intent Classifier был сформирован типовой датасет по соответствующим меткам.
Подобный подход позволяет легко добавлять новые типы запросов, масштабировать систему, а также обрабатывать синонимы и различные варианты фраз.
```
tent_dataset = {
    "get_film_duration": [
        ...,
        "Сколько идет фильм",
        "Длительность фильма",
        "Продолжительность фильма",
        ...,
    ],
    "get_film_genre": [
        ...,
        "Какой жанр у фильма",
        "Что за жанр у фильма",
        "Жанр фильма",
        ...,
    ],
    "get_film_rating": [
        ...,
        "Рейтинг",
        "Рейтинг фильма",
        "Какой рейтинг у фильма",
        ...,
    ],
    ...
```
